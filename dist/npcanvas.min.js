!function t(i,e,s){function n(o,a){if(!e[o]){if(!i[o]){var h="function"==typeof require&&require;if(!a&&h)return h(o,!0);if(r)return r(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=e[o]={exports:{}};i[o][0].call(c.exports,function(t){var e=i[o][1][t];return n(e?e:t)},c,c.exports,t,i,e,s)}return e[o].exports}for(var r="function"==typeof require&&require,o=0;o<s.length;o++)n(s[o]);return n}({1:[function(t,i){i.exports=t("./dev/engine")},{"./dev/engine":2}],2:[function(t,i){var e=t("./kit").requestAnimationFrame,s=t("./kit").merge,n=t("./object"),r=Math.max,o={STOP:0,PAUSE:1,PLAY:2,WAIT:4,DESTROY:9},a=function(t,i){if(!t)throw"canvasNode not found";this.list=[],this.canvas=t,this.ctx=t.getContext("2d"),this.fps=60,this.number=0,this.config=s({fitSize:!0,pixelRatio:window.devicePixelRatio||1,lineFix:!0,engine:this,set:this._setConfig},i),this.config.set.call(this,this.config)};a.create=function(t,i,e){return new n(t,i,e)},a.object=n,a.prototype={constructor:a,_setConfig:function(t){var i=this.engine||this;t=t||{},i.config=s(i.config,t,!0),t.fitSize&&(i.width=i.canvas.clientWidth*i.config.pixelRatio,i.height=i.canvas.clientHeight*i.config.pixelRatio),t.lineFix&&i.ctx.translate(.5,.5)},set width(t){return this.canvas&&(this.canvas.width=t),t},get width(){return this.canvas.width},set height(t){return this.canvas&&(this.canvas.height=t),t},get height(){return this.canvas.height},stat:o,_status:o.STOP,set status(t){return this.fire("stateChange"),this._status!==this.stat.DESTROY?this._status=t:void 0},get status(){return this._status},play:function(){return this.status===this.stat.STOP&&(this.status=this.stat.PLAY,this.refresh()),this.status=this.stat.PLAY,this},stop:function(){return this.status=this.stat.STOP,this.clean(),this.number=0,this},pause:function(){return this.status=this.stat.PAUSE,this},refresh:function(){this.status!==this.stat.DESTROY&&(this.status===this.stat.PLAY&&(this.number=0,this["static"]?this.clean():(this.ctx.clearRect(0,0,this.width,this.height),this.render(this.list)),0===this.number&&(this.status=this.stat.WAIT)),this.fpsCalc(),e(this.refresh.bind(this)))},"static":!1,render:function(t){for(var i,e=this.fps,s=this.ctx,n=0;n<t.length;n++)i=t[n],Array.isArray(i)?this.render(i):(i.life=this.timestamp-i.timestamp,s.save(),s.translate(i.x,i.y),i.draw(s,r(e,30)),this.number++,s.restore(),i.die&&(t.splice(n,1),n--));return this},create:a.create,add:function(t,i){return(i||this.list).push(t),t.engine=this,t.timestamp=this.timestamp,t.life=0,this.status===this.stat.WAIT&&(this.status=this.stat.PLAY),this},del:function(t){return t.die=!0,this},clean:function(){this.list.splice(0,this.list.length)},_listener:{},on:function(t,i){return"string"!=typeof t||"function"!=typeof i?this:(Array.isArray(this._listener[t])||(this._listener[t]=[]),this._listener[t].push(i),this)},off:function(t,i){if("string"!=typeof t||"function"!=typeof i)return this;if(!Array.isArray(this._listener[t]))return this;var e=this._listener[t].indexOf(i);return 0>e?this:(this._listener[t].splice(e,1),this)},fire:function(t,i){if(!Array.isArray(this._listener[t]))return this;var e=this;return this._listener[t].forEach(function(t){t.apply(e,i)}),this},timestamp:null,frame:0,life:0,_fpsCounter:1,_fpsFrequency:60,fpsCalc:function(){if(this._fpsCounter++>=this._fpsFrequency){this.fire("fpsCount");var t=this.timestamp?Date.now()-this.timestamp:1e3;this.fps=(this._fpsFrequency/t*1e3).toFixed(2),this.timestamp=Date.now(),this._fpsCounter=1,this.status!==this.stat.PLAY&&(this.life+=t,this.fire("renderCallback"))}this.frame++},destroy:function(){this.stop(),this.status=this.stat.DESTROY,this.clean()}},"function"==typeof window.define&&define("NPCanvas",a),i.exports=window.NPCanvas=a},{"./kit":3,"./object":4}],3:[function(t,i){var e={requestAnimationFrame:null||window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(t){setTimeout(t,1e3/60)},merge:function(){for(var t,i="boolean"==typeof arguments[arguments.length-1],e=i&&arguments[arguments.length-1],s=e?arguments[0]:{},n=(arguments,e?1:0),r=arguments.length+(i?-1:0);r>n;n++)if(t=arguments[n],"object"==typeof t)for(var o in t)t.hasOwnProperty(o)&&(s[o]=t[o]);return s}};i.exports=e},{}],4:[function(t,i){var e=function(t,i,e){"function"==typeof t&&(e=t,t=0),this.x=t||0,this.y=i||0,this.shape=e||function(){},this.die=!1};e.extend=function(t,i){"function"!=typeof t&&(t=function(){});var s=this;return this instanceof e||(s=e),t.__proto__=s,t.prototype=i||new s,t},e.prototype.extend=function(t){return"function"==typeof t?this.constructor.extend(t,this):(("object"!=typeof t||"[object Object]"!==t.toString())&&(t={}),t.__proto__=this,t)},e.prototype.draw=function(t,i){this.shape(t,i)},e.prototype.hit=function(){},i.exports=e},{}]},{},[1]);